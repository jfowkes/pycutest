<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Installation &mdash; PyCUTEst v1.2 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/doctools.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Building Test Problems" href="building.html" />
    <link rel="prev" title="PyCUTEst" href="index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> PyCUTEst
          </a>
              <div class="version">
                1.2
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#requirements">Requirements</a></li>
<li class="toctree-l2"><a class="reference internal" href="#installing-cutest">Installing CUTEst</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#installing-cutest-on-linux">Installing CUTEst on Linux</a></li>
<li class="toctree-l3"><a class="reference internal" href="#installing-cutest-on-mac">Installing CUTEst on Mac</a></li>
<li class="toctree-l3"><a class="reference internal" href="#cutest-docker-container">CUTEst Docker Container</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#installing-pycutest">Installing PyCUTEst</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#installing-pycutest-using-pip">Installing PyCUTEst using pip</a></li>
<li class="toctree-l3"><a class="reference internal" href="#manual-installation-of-pycutest">Manual installation of PyCUTEst</a></li>
<li class="toctree-l3"><a class="reference internal" href="#uninstallation-of-pycutest">Uninstallation of PyCUTEst</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="building.html">Building Test Problems</a></li>
<li class="toctree-l1"><a class="reference internal" href="interface.html">Problem Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="example.html">Example Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="history.html">Version History</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">PyCUTEst</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Installation</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/jfowkes/pycutest/blob/master/docs/install.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="installation">
<h1>Installation<a class="headerlink" href="#installation" title="Permalink to this heading"></a></h1>
<section id="requirements">
<h2>Requirements<a class="headerlink" href="#requirements" title="Permalink to this heading"></a></h2>
<p>PyCUTEst requires the following software to be installed:</p>
<ul class="simple">
<li><p>Python 2.7 or Python 3 (<a class="reference external" href="http://www.python.org/">http://www.python.org/</a>)</p></li>
<li><p>CUTEst (see below)</p></li>
</ul>
<p>Additionally, the following python packages should be installed (these will be installed automatically if using <em>pip</em>, see <a class="reference internal" href="#installing-pycutest-using-pip">Installing PyCUTEst using pip</a>):</p>
<ul class="simple">
<li><p>NumPy 1.11 or higher (<a class="reference external" href="http://www.numpy.org/">http://www.numpy.org/</a>)</p></li>
<li><p>SciPy 0.18 or higher (<a class="reference external" href="http://www.scipy.org/">http://www.scipy.org/</a>)</p></li>
</ul>
<p><strong>Please Note:</strong> Currently PyCUTEst only supports Mac and Linux. For Windows 10 (or later), PyCUTEst can be used through the <a class="reference external" href="https://docs.microsoft.com/en-us/windows/wsl/">Windows Subsystem for Linux</a>, following the Linux installation instructions.</p>
</section>
<section id="installing-cutest">
<h2>Installing CUTEst<a class="headerlink" href="#installing-cutest" title="Permalink to this heading"></a></h2>
<p>Note that CUTEst must be installed in order for PyCUTEst to work.</p>
<section id="installing-cutest-on-linux">
<h3>Installing CUTEst on Linux<a class="headerlink" href="#installing-cutest-on-linux" title="Permalink to this heading"></a></h3>
<p>These instructions do not include installation of the MATLAB interface. You will need to install four packages: <a class="reference external" href="https://github.com/ralna/ARCHDefs">archdefs</a>, <a class="reference external" href="https://github.com/ralna/SIFDecode">SIFDecode</a>, <a class="reference external" href="https://github.com/ralna/CUTEst">CUTEst</a> and <a class="reference external" href="https://bitbucket.org/optrove/sif">MASTSIF</a>. To keep things simple, install all four packages in the same directory:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ mkdir cutest
$ <span class="nb">cd</span> cutest
$ git clone https://github.com/ralna/ARCHDefs ./archdefs
$ git clone https://github.com/ralna/SIFDecode ./sifdecode
$ git clone https://github.com/ralna/CUTEst ./cutest
$ git clone https://bitbucket.org/optrove/sif ./mastsif
</pre></div>
</div>
</div></blockquote>
<p>Note that <code class="code docutils literal notranslate"><span class="pre">mastsif</span></code> contains all the test problem definitions and
is therefore quite large. If you’re short on space you may want to copy
only the <code class="docutils literal notranslate"><span class="pre">*.SIF</span></code> files for the problems you wish to test on.</p>
<p>Next set the following environment variables in your <code class="code docutils literal notranslate"><span class="pre">~/.bashrc</span></code> to point to the installation directories used above:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># CUTEst</span>
<span class="nb">export</span> <span class="nv">ARCHDEFS</span><span class="o">=</span>/path/to/cutest/archdefs/
<span class="nb">export</span> <span class="nv">SIFDECODE</span><span class="o">=</span>/path/to/cutest/sifdecode/
<span class="nb">export</span> <span class="nv">MASTSIF</span><span class="o">=</span>/path/to/cutest/mastsif/
<span class="nb">export</span> <span class="nv">CUTEST</span><span class="o">=</span>/path/to/cutest/cutest/
<span class="nb">export</span> <span class="nv">MYARCH</span><span class="o">=</span><span class="s2">&quot;pc64.lnx.gfo&quot;</span>
</pre></div>
</div>
</div></blockquote>
<p>Now we are ready to install CUTEst in double precision (requires <code class="code docutils literal notranslate"><span class="pre">gfortran</span></code> and <code class="code docutils literal notranslate"><span class="pre">gcc</span></code>):</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ <span class="nb">cd</span> /path/to/cutest/cutest/
$ <span class="si">${</span><span class="nv">ARCHDEFS</span><span class="si">}</span>/install_optrove
Do you wish to install CUTEst <span class="o">(</span>Y/n<span class="o">)</span>? Y
Do you require the CUTEst-Matlab interface <span class="o">(</span>y/N<span class="o">)</span>? N
Select platform: <span class="m">6</span> <span class="c1"># PC with generic 64-bit processor</span>
Select operating system: <span class="m">3</span> <span class="c1"># Linux</span>
Would you like to review and modify the system commands <span class="o">(</span>y/N<span class="o">)</span>? N
Select fortran compiler: <span class="m">6</span> <span class="c1"># GNU gfortran compiler</span>
Would you like to review and modify the fortran compiler settings <span class="o">(</span>y/N<span class="o">)</span>? N
Select C compiler: <span class="m">8</span> <span class="c1"># GCC</span>
Would you like to review and modify the C compiler settings <span class="o">(</span>y/N<span class="o">)</span>? N
Would you like to compile SIFDecode <span class="o">(</span>Y/n<span class="o">)</span>? Y
Would you like to compile CUTEst <span class="o">(</span>Y/n<span class="o">)</span>? Y
CUTEst may be compiled <span class="k">in</span> <span class="o">(</span>S<span class="o">)</span>ingle or <span class="o">(</span>D<span class="o">)</span>ouble precision or <span class="o">(</span>B<span class="o">)</span>oth.
Which precision <span class="k">do</span> you require <span class="k">for</span> the installed subset <span class="o">(</span>D/s/b<span class="o">)</span> ? D
</pre></div>
</div>
</div></blockquote>
<p>And CUTEst should run from here. To test that the installation works, issue the commands:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ <span class="nb">cd</span> <span class="nv">$SIFDECODE</span>/src <span class="p">;</span> make -f <span class="nv">$SIFDECODE</span>/makefiles/<span class="nv">$MYARCH</span> <span class="nb">test</span>
$ <span class="nb">cd</span> <span class="nv">$CUTEST</span>/src <span class="p">;</span> make -f <span class="nv">$CUTEST</span>/makefiles/<span class="nv">$MYARCH</span> <span class="nb">test</span>
</pre></div>
</div>
</div></blockquote>
<p><strong>Please Note:</strong> <em>currently PyCUTEst only supports gfortran and uses the default version on your path (as returned by</em> <code class="code docutils literal notranslate"><span class="pre">gfortran</span> <span class="pre">-v</span></code> <em>). Please ensure this is the same version that you install CUTEst with above otherwise you may experience segmentation faults, this should be the case if you select the generic</em> <code class="code docutils literal notranslate"><span class="pre">GNU</span> <span class="pre">gfortran</span> <span class="pre">compiler</span></code> <em>as the fortran compiler in the installer above.</em></p>
</section>
<section id="installing-cutest-on-mac">
<h3>Installing CUTEst on Mac<a class="headerlink" href="#installing-cutest-on-mac" title="Permalink to this heading"></a></h3>
<p>Install CUTEst using Homebrew as detailed below (installing CUTEst manually on Mac is not supported). First it is important to ensure that you have the latest version of Xcode Command Line Tools installed (or the latest version of Xcode), please ensure this is the case by following <a class="reference external" href="https://mac.install.guide/commandlinetools/index.html">this guide</a>. Now install the Homebrew package manager:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ /bin/bash -c <span class="s2">&quot;</span><span class="k">$(</span>curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh<span class="k">)</span><span class="s2">&quot;</span>
</pre></div>
</div>
</div></blockquote>
<p>Then you can easily install CUTEst:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ brew tap optimizers/cutest
$ brew install cutest --without-single --with-matlab <span class="c1"># if using Matlab interface</span>
$ brew install mastsif  <span class="c1"># if you want all the test problems</span>
$ <span class="k">for</span> f <span class="k">in</span> <span class="s2">&quot;archdefs&quot;</span> <span class="s2">&quot;mastsif&quot;</span> <span class="s2">&quot;sifdecode&quot;</span> <span class="s2">&quot;cutest&quot;</span><span class="p">;</span> <span class="k">do</span> <span class="se">\</span>
$   <span class="nb">echo</span> <span class="s2">&quot;. </span><span class="k">$(</span>brew --prefix <span class="nv">$f</span><span class="k">)</span><span class="s2">/</span><span class="nv">$f</span><span class="s2">.bashrc&quot;</span> &gt;&gt; ~/.bashrc<span class="p">;</span> <span class="se">\</span>
$ <span class="k">done</span>
</pre></div>
</div>
</div></blockquote>
<p><strong>Please Note:</strong> <em>you may see warnings such as</em> <code class="code docutils literal notranslate"><span class="pre">ld:</span> <span class="pre">warning:</span> <span class="pre">object</span> <span class="pre">file</span> <span class="pre">(RANGE.o)</span> <span class="pre">was</span> <span class="pre">built</span> <span class="pre">for</span> <span class="pre">newer</span> <span class="pre">macOS</span> <span class="pre">version</span> <span class="pre">(11.5)</span> <span class="pre">than</span> <span class="pre">being</span> <span class="pre">linked</span> <span class="pre">(10.15)</span></code> <em>when using PyCUTEst on Mac. To suppress these warnings please set the environment variable</em> <code class="code docutils literal notranslate"><span class="pre">MACOSX_DEPLOYMENT_TARGET</span></code> <em>to your current macOS version (e.g.</em> <code class="code docutils literal notranslate"><span class="pre">export</span> <span class="pre">MACOSX_DEPLOYMENT_TARGET=11.5</span></code> <em>in this example, you can make this permanent by adding it to your</em> <code class="code docutils literal notranslate"><span class="pre">~/.bashrc</span></code> <em>file).</em></p>
</section>
<section id="cutest-docker-container">
<h3>CUTEst Docker Container<a class="headerlink" href="#cutest-docker-container" title="Permalink to this heading"></a></h3>
<p>CUTEst can be installed into its own Docker container. Create a file named <code class="code docutils literal notranslate"><span class="pre">Dockerfile</span></code> with the following contents:</p>
<blockquote>
<div><div class="highlight-docker notranslate"><div class="highlight"><pre><span></span><span class="k">FROM</span><span class="w"> </span><span class="s">continuumio/miniconda3</span>

<span class="k">WORKDIR</span><span class="w"> </span><span class="s">/cutest</span>
<span class="k">RUN</span><span class="w"> </span>apt update
<span class="k">RUN</span><span class="w"> </span>apt install -y build-essential git gfortran
<span class="k">RUN</span><span class="w"> </span>git clone https://github.com/ralna/ARCHDefs ./archdefs
<span class="k">RUN</span><span class="w"> </span>git clone https://github.com/ralna/SIFDecode ./sifdecode
<span class="k">RUN</span><span class="w"> </span>git clone https://github.com/ralna/CUTEst ./cutest
<span class="k">RUN</span><span class="w"> </span>git clone https://bitbucket.org/optrove/sif ./mastsif

<span class="k">ENV</span><span class="w"> </span>ARCHDEFS /cutest/archdefs/
<span class="k">ENV</span><span class="w"> </span>SIFDECODE /cutest/sifdecode/
<span class="k">ENV</span><span class="w"> </span>MASTSIF /cutest/mastsif/
<span class="k">ENV</span><span class="w"> </span>CUTEST /cutest/cutest/
<span class="k">ENV</span><span class="w"> </span>MYARCH <span class="s2">&quot;pc64.lnx.gfo&quot;</span>
<span class="k">ENTRYPOINT</span><span class="w"> </span>./archdefs/install_optrove <span class="o">&amp;&amp;</span> tail -f /dev/null
</pre></div>
</div>
</div></blockquote>
<p>You can then build, launch, and login to the container in the usual way:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ docker build -t cutest .          <span class="c1"># build the container</span>
$ docker run -dt cutest             <span class="c1"># launch the container</span>
$ docker <span class="nb">exec</span> -it cutest /bin/bash  <span class="c1"># login to the container</span>
</pre></div>
</div>
</div></blockquote>
<p>Please see the <a class="reference external" href="https://docs.docker.com/get-started/">docker docs</a> for more details on using docker containers.</p>
</section>
</section>
<section id="installing-pycutest">
<h2>Installing PyCUTEst<a class="headerlink" href="#installing-pycutest" title="Permalink to this heading"></a></h2>
<p>Note that CUTEst must be installed in order for PyCUTEst to work (see above).</p>
<section id="installing-pycutest-using-pip">
<h3>Installing PyCUTEst using pip<a class="headerlink" href="#installing-pycutest-using-pip" title="Permalink to this heading"></a></h3>
<p>For easy installation, use <a class="reference external" href="http://www.pip-installer.org/">pip</a>:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ pip install pycutest
</pre></div>
</div>
</div></blockquote>
<p>Note that if an older install of PyCUTEst is present on your system you can use:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ pip install --upgrade pycutest
</pre></div>
</div>
</div></blockquote>
<p>to upgrade PyCUTEst to the latest version.</p>
<p>You will then need to create a folder which will store all your compiled problems:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ mkdir pycutest_cache
</pre></div>
</div>
</div></blockquote>
<p>And set an environment variable to tell PyCUTEst about this directory, by adding to your <code class="code docutils literal notranslate"><span class="pre">~/.bashrc</span></code> file:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">export</span> <span class="nv">PYCUTEST_CACHE</span><span class="o">=</span><span class="s2">&quot;/path/to/pycutest_cache&quot;</span>
</pre></div>
</div>
</div></blockquote>
<p>If you do not set this environment variable, then PyCUTEst will create a cache folder of compiled problems inside your current working directory.</p>
</section>
<section id="manual-installation-of-pycutest">
<h3>Manual installation of PyCUTEst<a class="headerlink" href="#manual-installation-of-pycutest" title="Permalink to this heading"></a></h3>
<p>Alternatively, you can download the source code from <a class="reference external" href="https://github.com/jfowkes/pycutest">Github</a> and unpack as follows:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ git clone https://github.com/jfowkes/pycutest
$ <span class="nb">cd</span> pycutest
</pre></div>
</div>
</div></blockquote>
<p>PyCUTEst is written in pure Python and requires no compilation. It can be installed using:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ pip install .
</pre></div>
</div>
</div></blockquote>
<p><strong>Please Note:</strong> <em>don’t forget to set up your cache and associated environment variable (see above).</em></p>
<p>To upgrade PyCUTEst to the latest version, navigate to the top-level directory (i.e. the one containing <code class="code docutils literal notranslate"><span class="pre">setup.py</span></code>) and re-run the installation using <code class="code docutils literal notranslate"><span class="pre">pip</span></code>, as above:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ git pull
$ pip install .
</pre></div>
</div>
</div></blockquote>
</section>
<section id="uninstallation-of-pycutest">
<h3>Uninstallation of PyCUTEst<a class="headerlink" href="#uninstallation-of-pycutest" title="Permalink to this heading"></a></h3>
<p>You can uninstall PyCUTEst as follows:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ pip uninstall pycutest
</pre></div>
</div>
</div></blockquote>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="index.html" class="btn btn-neutral float-left" title="PyCUTEst" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="building.html" class="btn btn-neutral float-right" title="Building Test Problems" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2020-2022, Jaroslav Fowkes and Lindon Roberts.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>  

  <style>
         .wy-nav-content { max-width: none; }
  </style>



</body>
</html>