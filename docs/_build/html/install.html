<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Installation &mdash; PyCUTEst v1.5.1 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Building Test Problems" href="building.html" />
    <link rel="prev" title="PyCUTEst" href="index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            PyCUTEst
          </a>
              <div class="version">
                1.5.1
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#requirements">Requirements</a></li>
<li class="toctree-l2"><a class="reference internal" href="#installing-cutest">Installing CUTEst</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#installing-cutest-on-linux">Installing CUTEst on Linux</a></li>
<li class="toctree-l3"><a class="reference internal" href="#installing-cutest-on-mac">Installing CUTEst on Mac</a></li>
<li class="toctree-l3"><a class="reference internal" href="#cutest-docker-container">CUTEst Docker Container</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#installing-pycutest">Installing PyCUTEst</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="building.html">Building Test Problems</a></li>
<li class="toctree-l1"><a class="reference internal" href="interface.html">Problem Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="example.html">Example Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="support.html">Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="history.html">Version History</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">PyCUTEst</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Installation</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/jfowkes/pycutest/blob/master/docs/install.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="installation">
<h1>Installation<a class="headerlink" href="#installation" title="Permalink to this heading"></a></h1>
<section id="requirements">
<h2>Requirements<a class="headerlink" href="#requirements" title="Permalink to this heading"></a></h2>
<p>PyCUTEst requires the following software to be installed:</p>
<ul class="simple">
<li><p>Python 3 (<a class="reference external" href="http://www.python.org/">http://www.python.org/</a>)</p></li>
<li><p>CUTEst (see below)</p></li>
</ul>
<p><strong>Please Note:</strong> Currently PyCUTEst only supports Mac and Linux. For Windows 10 (or later), PyCUTEst can be used through the <a class="reference external" href="https://docs.microsoft.com/en-us/windows/wsl/">Windows Subsystem for Linux</a>, following the Linux installation instructions.</p>
</section>
<section id="installing-cutest">
<h2>Installing CUTEst<a class="headerlink" href="#installing-cutest" title="Permalink to this heading"></a></h2>
<p>Note that CUTEst must be installed in order for PyCUTEst to work.</p>
<section id="installing-cutest-on-linux">
<h3>Installing CUTEst on Linux<a class="headerlink" href="#installing-cutest-on-linux" title="Permalink to this heading"></a></h3>
<p>These instructions do not include installation of the MATLAB interface. You will need to install four packages: <a class="reference external" href="https://github.com/ralna/ARCHDefs">archdefs</a>, <a class="reference external" href="https://github.com/ralna/SIFDecode">SIFDecode</a>, <a class="reference external" href="https://github.com/ralna/CUTEst">CUTEst</a> and <a class="reference external" href="https://bitbucket.org/optrove/sif">MASTSIF</a>. To keep things simple, install all four packages in the same directory:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>mkdir<span class="w"> </span>cutest
$<span class="w"> </span><span class="nb">cd</span><span class="w"> </span>cutest
$<span class="w"> </span>git<span class="w"> </span>clone<span class="w"> </span>https://github.com/ralna/ARCHDefs<span class="w"> </span>./archdefs
$<span class="w"> </span>git<span class="w"> </span>clone<span class="w"> </span>https://github.com/ralna/SIFDecode<span class="w"> </span>./sifdecode
$<span class="w"> </span>git<span class="w"> </span>clone<span class="w"> </span>https://github.com/ralna/CUTEst<span class="w"> </span>./cutest
$<span class="w"> </span>git<span class="w"> </span>clone<span class="w"> </span>https://bitbucket.org/optrove/sif<span class="w"> </span>./mastsif
</pre></div>
</div>
</div></blockquote>
<p>Note that <code class="code docutils literal notranslate"><span class="pre">mastsif</span></code> contains all the test problem definitions and
is therefore quite large. If you’re short on space you may want to copy
only the <code class="docutils literal notranslate"><span class="pre">*.SIF</span></code> files for the problems you wish to test on.</p>
<p>Next set the following environment variables in your <code class="code docutils literal notranslate"><span class="pre">~/.bashrc</span></code> to point to the installation directories used above:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># CUTEst</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">ARCHDEFS</span><span class="o">=</span>/path/to/cutest/archdefs/
<span class="nb">export</span><span class="w"> </span><span class="nv">SIFDECODE</span><span class="o">=</span>/path/to/cutest/sifdecode/
<span class="nb">export</span><span class="w"> </span><span class="nv">MASTSIF</span><span class="o">=</span>/path/to/cutest/mastsif/
<span class="nb">export</span><span class="w"> </span><span class="nv">CUTEST</span><span class="o">=</span>/path/to/cutest/cutest/
<span class="nb">export</span><span class="w"> </span><span class="nv">MYARCH</span><span class="o">=</span><span class="s2">&quot;pc64.lnx.gfo&quot;</span>
</pre></div>
</div>
</div></blockquote>
<p>Now we are ready to install CUTEst in double precision (requires <code class="code docutils literal notranslate"><span class="pre">gfortran</span></code> and <code class="code docutils literal notranslate"><span class="pre">gcc</span></code>):</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span><span class="nb">source</span><span class="w"> </span>~/.bashrc<span class="w"> </span><span class="c1"># load above environment variables</span>
$<span class="w"> </span>/bin/bash<span class="w"> </span>-c<span class="w"> </span><span class="s2">&quot;</span><span class="k">$(</span>curl<span class="w"> </span>-fsSL<span class="w"> </span>https://raw.githubusercontent.com/jfowkes/pycutest/master/.install_cutest.sh<span class="k">)</span><span class="s2">&quot;</span>
</pre></div>
</div>
</div></blockquote>
<p>And CUTEst should run from here. To test that the installation works, issue the commands:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span><span class="nb">cd</span><span class="w"> </span><span class="nv">$SIFDECODE</span>/src<span class="w"> </span><span class="p">;</span><span class="w"> </span>make<span class="w"> </span>-f<span class="w"> </span><span class="nv">$SIFDECODE</span>/makefiles/<span class="nv">$MYARCH</span><span class="w"> </span><span class="nb">test</span>
$<span class="w"> </span><span class="nb">cd</span><span class="w"> </span><span class="nv">$CUTEST</span>/src<span class="w"> </span><span class="p">;</span><span class="w"> </span>make<span class="w"> </span>-f<span class="w"> </span><span class="nv">$CUTEST</span>/makefiles/<span class="nv">$MYARCH</span><span class="w"> </span><span class="nb">test</span>
</pre></div>
</div>
</div></blockquote>
<p><strong>Please Note:</strong> <em>currently PyCUTEst only supports gfortran and uses the default version on your path (as returned by</em> <code class="code docutils literal notranslate"><span class="pre">gfortran</span> <span class="pre">-v</span></code> <em>). Please ensure this is the same version that you install CUTEst with above otherwise you may experience segmentation faults.</em></p>
</section>
<section id="installing-cutest-on-mac">
<h3>Installing CUTEst on Mac<a class="headerlink" href="#installing-cutest-on-mac" title="Permalink to this heading"></a></h3>
<p>Install CUTEst using Homebrew as detailed below (installing CUTEst manually on Mac is not supported). First it is important to ensure that you have the latest version of Xcode Command Line Tools installed (or the latest version of Xcode), please ensure this is the case by following <a class="reference external" href="https://mac.install.guide/commandlinetools/index.html">this guide</a>. Now install the Homebrew package manager:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>/bin/bash<span class="w"> </span>-c<span class="w"> </span><span class="s2">&quot;</span><span class="k">$(</span>curl<span class="w"> </span>-fsSL<span class="w"> </span>https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh<span class="k">)</span><span class="s2">&quot;</span>
</pre></div>
</div>
</div></blockquote>
<p>Then you can easily install CUTEst:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>brew<span class="w"> </span>tap<span class="w"> </span>optimizers/cutest
$<span class="w"> </span>brew<span class="w"> </span>install<span class="w"> </span>cutest<span class="w"> </span>--without-single<span class="w"> </span>--with-matlab<span class="w"> </span><span class="c1"># if using Matlab interface</span>
$<span class="w"> </span>brew<span class="w"> </span>install<span class="w"> </span>mastsif<span class="w">  </span><span class="c1"># if you want all the test problems</span>
$<span class="w"> </span><span class="k">for</span><span class="w"> </span>f<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="s2">&quot;archdefs&quot;</span><span class="w"> </span><span class="s2">&quot;mastsif&quot;</span><span class="w"> </span><span class="s2">&quot;sifdecode&quot;</span><span class="w"> </span><span class="s2">&quot;cutest&quot;</span><span class="p">;</span><span class="w"> </span><span class="k">do</span><span class="w"> </span><span class="se">\</span>
$<span class="w">   </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;. </span><span class="k">$(</span>brew<span class="w"> </span>--prefix<span class="w"> </span><span class="nv">$f</span><span class="k">)</span><span class="s2">/</span><span class="nv">$f</span><span class="s2">.bashrc&quot;</span><span class="w"> </span>&gt;&gt;<span class="w"> </span>~/.bashrc<span class="p">;</span><span class="w"> </span><span class="se">\</span>
$<span class="w"> </span><span class="k">done</span>
</pre></div>
</div>
</div></blockquote>
<p><strong>Anaconda Users:</strong> <em>please ensure that</em> <code class="code docutils literal notranslate"><span class="pre">~/.bashrc</span></code> <em>is sourced in your conda environment (you can do this with the command</em> <code class="code docutils literal notranslate"><span class="pre">source</span> <span class="pre">~/.bashrc</span></code> <em>) otherwise you may encounter errors using PyCUTEst.</em></p>
<p><strong>Please Note:</strong> <em>you may see warnings such as</em> <code class="code docutils literal notranslate"><span class="pre">ld:</span> <span class="pre">warning:</span> <span class="pre">object</span> <span class="pre">file</span> <span class="pre">(RANGE.o)</span> <span class="pre">was</span> <span class="pre">built</span> <span class="pre">for</span> <span class="pre">newer</span> <span class="pre">macOS</span> <span class="pre">version</span> <span class="pre">(11.5)</span> <span class="pre">than</span> <span class="pre">being</span> <span class="pre">linked</span> <span class="pre">(10.15)</span></code> <em>. To suppress these warnings please set the environment variable</em> <code class="code docutils literal notranslate"><span class="pre">MACOSX_DEPLOYMENT_TARGET</span></code> <em>to your current macOS version (e.g.</em> <code class="code docutils literal notranslate"><span class="pre">export</span> <span class="pre">MACOSX_DEPLOYMENT_TARGET=11.5</span></code> <em>in this example, you can make this permanent by adding it to your</em> <code class="code docutils literal notranslate"><span class="pre">~/.bashrc</span></code> <em>file).</em></p>
</section>
<section id="cutest-docker-container">
<h3>CUTEst Docker Container<a class="headerlink" href="#cutest-docker-container" title="Permalink to this heading"></a></h3>
<p>CUTEst can be installed into its own Docker container. Create a file named <code class="code docutils literal notranslate"><span class="pre">Dockerfile</span></code> with the following contents:</p>
<blockquote>
<div><div class="highlight-docker notranslate"><div class="highlight"><pre><span></span><span class="k">FROM</span><span class="w"> </span><span class="s">continuumio/miniconda3</span>

<span class="k">WORKDIR</span><span class="w"> </span><span class="s">/cutest</span>
<span class="k">RUN</span><span class="w"> </span>apt<span class="w"> </span>update
<span class="k">RUN</span><span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>-y<span class="w"> </span>build-essential<span class="w"> </span>git<span class="w"> </span>gfortran
<span class="k">RUN</span><span class="w"> </span>git<span class="w"> </span>clone<span class="w"> </span>https://github.com/ralna/ARCHDefs<span class="w"> </span>./archdefs
<span class="k">RUN</span><span class="w"> </span>git<span class="w"> </span>clone<span class="w"> </span>https://github.com/ralna/SIFDecode<span class="w"> </span>./sifdecode
<span class="k">RUN</span><span class="w"> </span>git<span class="w"> </span>clone<span class="w"> </span>https://github.com/ralna/CUTEst<span class="w"> </span>./cutest
<span class="k">RUN</span><span class="w"> </span>git<span class="w"> </span>clone<span class="w"> </span>https://bitbucket.org/optrove/sif<span class="w"> </span>./mastsif

<span class="k">ENV</span><span class="w"> </span>ARCHDEFS<span class="w"> </span>/cutest/archdefs/
<span class="k">ENV</span><span class="w"> </span>SIFDECODE<span class="w"> </span>/cutest/sifdecode/
<span class="k">ENV</span><span class="w"> </span>MASTSIF<span class="w"> </span>/cutest/mastsif/
<span class="k">ENV</span><span class="w"> </span>CUTEST<span class="w"> </span>/cutest/cutest/
<span class="k">ENV</span><span class="w"> </span>MYARCH<span class="w"> </span><span class="s2">&quot;pc64.lnx.gfo&quot;</span>

<span class="k">RUN</span><span class="w"> </span>wget<span class="w"> </span>https://raw.githubusercontent.com/jfowkes/pycutest/master/.install_cutest.sh
<span class="k">RUN</span><span class="w"> </span>chmod<span class="w"> </span>+x<span class="w"> </span>.install_cutest.sh
<span class="k">RUN</span><span class="w"> </span>./.install_cutest.sh

<span class="k">ENTRYPOINT</span><span class="w"> </span>tail<span class="w"> </span>-f<span class="w"> </span>/dev/null
</pre></div>
</div>
</div></blockquote>
<p>You can then build, launch, and login to the container in the usual way:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>docker<span class="w"> </span>build<span class="w"> </span>-t<span class="w"> </span>cutest<span class="w"> </span>.<span class="w">               </span><span class="c1"># build the container</span>
$<span class="w"> </span>docker<span class="w"> </span>run<span class="w"> </span>--name<span class="w"> </span>mycutest<span class="w"> </span>-dt<span class="w"> </span>cutest<span class="w">  </span><span class="c1"># launch the container</span>
$<span class="w"> </span>docker<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>-it<span class="w"> </span>mycutest<span class="w"> </span>/bin/bash<span class="w">     </span><span class="c1"># login to the container</span>
</pre></div>
</div>
</div></blockquote>
<p>Please see the <a class="reference external" href="https://docs.docker.com/get-started/">docker docs</a> for more details on using docker containers.</p>
</section>
</section>
<section id="installing-pycutest">
<h2>Installing PyCUTEst<a class="headerlink" href="#installing-pycutest" title="Permalink to this heading"></a></h2>
<p><strong>Please Note:</strong> <em>CUTEst must be installed in order for PyCUTEst to work (see</em> <a class="reference internal" href="#installing-cutest">Installing CUTEst</a> <em>).</em></p>
<p>For easy installation, use <a class="reference external" href="http://www.pip-installer.org/">pip</a>:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>pycutest
$<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>--upgrade<span class="w"> </span>pycutest<span class="w">  </span><span class="c1"># if existing installation on system</span>
</pre></div>
</div>
</div></blockquote>
<p>With this, PyCUTEst will create a cache folder inside your current working directory.
This cache directory is used for compiled problems. You can set a custom cache directory
with these commands:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>mkdir<span class="w"> </span>pycutest_cache
$<span class="w"> </span><span class="nb">export</span><span class="w"> </span><span class="nv">PYCUTEST_CACHE</span><span class="o">=</span><span class="s2">&quot;/path/to/pycutest_cache&quot;</span>
</pre></div>
</div>
</div></blockquote>
<p>Note that you can uninstall PyCUTEst as follows:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>pip<span class="w"> </span>uninstall<span class="w"> </span>pycutest
</pre></div>
</div>
</div></blockquote>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="index.html" class="btn btn-neutral float-left" title="PyCUTEst" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="building.html" class="btn btn-neutral float-right" title="Building Test Problems" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2020-2022, Jaroslav Fowkes and Lindon Roberts.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>  

  <style>
         .wy-nav-content { max-width: none; }
  </style>



</body>
</html>